<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/willbe/blog/rss.xml" title="WELCOME Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/willbe/blog/atom.xml" title="WELCOME Blog Atom Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.css"><title data-react-helmet="true">Flask | WELCOME</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Flask | WELCOME"><meta data-react-helmet="true" name="description" content="💡 『KDT 프로그래머스 인공지능 데브코스』에서 공부중..👀"><meta data-react-helmet="true" property="og:description" content="💡 『KDT 프로그래머스 인공지능 데브코스』에서 공부중..👀"><meta data-react-helmet="true" property="og:url" content="https://heeju0.github.io/willbe/docs/kdt/web/flask1"><link data-react-helmet="true" rel="shortcut icon" href="/willbe/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://heeju0.github.io/willbe/docs/kdt/web/flask1"><link rel="stylesheet" href="/willbe/styles.28bf0270.css">
<link rel="preload" href="/willbe/styles.2c3dfb8e.js" as="script">
<link rel="preload" href="/willbe/runtime~main.8bbf9e40.js" as="script">
<link rel="preload" href="/willbe/main.d215830a.js" as="script">
<link rel="preload" href="/willbe/1.95d38675.js" as="script">
<link rel="preload" href="/willbe/2.1bb1b4fc.js" as="script">
<link rel="preload" href="/willbe/1be78505.23bb998b.js" as="script">
<link rel="preload" href="/willbe/104.1ff1ac5b.js" as="script">
<link rel="preload" href="/willbe/f976f453.087a1e6b.js" as="script">
<link rel="preload" href="/willbe/103.9c5787d0.js" as="script">
<link rel="preload" href="/willbe/d6bbe813.670cbcff.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top navbarHideable_17Wu navbarHidden_19ww"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/willbe/"><img src="/willbe/img/android-chrome-512x512.png" alt="My Site" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/willbe/img/android-chrome-512x512.png" alt="My Site" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">WILL BE</strong></a><a class="navbar__item navbar__link" href="/willbe/docs/guides">Docs</a><a class="navbar__item navbar__link" href="/willbe/docs/data-science/how-to">Data Science</a><a class="navbar__item navbar__link navbar__link--active" href="/willbe/docs/kdt/data_structures/definition">KDT AI/ML</a><a class="navbar__item navbar__link" href="/willbe/docs/coding-practice/greedy">Coding</a><a class="navbar__item navbar__link" href="/willbe/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/heeju0/willbe" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/willbe/"><img src="/willbe/img/android-chrome-512x512.png" alt="My Site" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/willbe/img/android-chrome-512x512.png" alt="My Site" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">WILL BE</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/willbe/docs/guides">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/willbe/docs/data-science/how-to">Data Science</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/willbe/docs/kdt/data_structures/definition">KDT AI/ML</a></li><li class="menu__list-item"><a class="menu__link" href="/willbe/docs/coding-practice/greedy">Coding</a></li><li class="menu__list-item"><a class="menu__link" href="/willbe/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/heeju0/willbe" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy sidebarWithHideableNavbar_CROi"><a tabindex="-1" class="sidebarLogo_xFc8" href="/willbe/"><img src="/willbe/img/android-chrome-512x512.png" alt="My Site" class="themedImage_YANc themedImage--light_3CMI"><img src="/willbe/img/android-chrome-512x512.png" alt="My Site" class="themedImage_YANc themedImage--dark_3ARp"><strong>WILL BE</strong></a><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">파이썬 프로그래밍 기초</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/data_structures/definition">정의</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/data_structures/data_structures1">자료구조 기초</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/data_structures/data_structures2">연결 리스트</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/data_structures/data_structures3">스택</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/data_structures/data_structures4">큐</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/data_structures/data_structures5">트리</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/data_structures/data_structures6">힙</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/data_structures/data_structures7">해시</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/data_structures/data_structures8">탐욕법</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/data_structures/data_structures9">정렬</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/data_structures/data_structures10">동적계획법</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/data_structures/exercise">연습문제</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">인공지능 수학</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/math/math1">선형대수</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/math/math2">통계학</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Git</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/python/git">Git</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">파이썬으로 데이터 다루기</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/python/python1">Numpy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/python/python2">Pandas</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/python/python3">Matplotlib</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/python/python4">Seaborn</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/python/python5">EDA</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">파이썬으로 웹 다루기</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/willbe/docs/kdt/web/flask1">Flask</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/willbe/docs/kdt/web/aws1">AWS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/willbe/docs/kdt/web/django1">Django</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">머신러닝</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/ml/ml1">Machine Learning 기초 (미완성)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/ml/ml2">E2E (미완성)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/ml/ml3">Linear Algebra (미완성)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/ml/ml4">Matrix Caculus (미완성)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/willbe/docs/kdt/ml/ml5">Probability Distributions (미완성)</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Flask</h1></header><div class="markdown"><p>💡 『KDT 프로그래머스 인공지능 데브코스』에서 공부중..👀  </p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span><strong>우리의 목표</strong>  </h5></div><div class="admonition-content"><p>Flask를 활용하여 REST API를 구축한다.  </p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="1-인터넷과-웹"></a>1. 인터넷과 웹<a class="hash-link" href="#1-인터넷과-웹" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="인터넷-internet"></a>인터넷 (Internet)<a class="hash-link" href="#인터넷-internet" title="Direct link to heading">#</a></h3><p>전 세계 컴퓨터를 하나로 합치는 거대한 <strong>통신망</strong><br>
인터넷에 웹, 메일 등이 포함된다. (웹과 메일은 인터넷이라는 같은 망을 사용하더라도 프로토콜은 서로 다름)  </p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="웹-web"></a>웹 (Web)<a class="hash-link" href="#웹-web" title="Direct link to heading">#</a></h3><p>인터넷에 연결된 사용자들이 정보를 공유할 수 있는 공간이며 클라이언트와 서버 사이의 소통이다.<br>
웹에 있는 정보 각각을 <strong>웹 페이지</strong>라고 하며, 웹 페이지의 집합을 <strong>웹 사이트</strong>라고 한다.  </p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="웹-내부에서의-정보의-상호-작용"></a>웹 내부에서의 정보의 상호 작용<a class="hash-link" href="#웹-내부에서의-정보의-상호-작용" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="예제-신발-가게의-동작-방식"></a>예제: 신발 가게의 동작 방식<a class="hash-link" href="#예제-신발-가게의-동작-방식" title="Direct link to heading">#</a></h4><ol><li>손님은 직원에게 원하는 색상과 사이즈를 담은 신발을 요청한다.  </li><li>직원은 해당 요청을 처리한다. (재고 확인 및 창고에서 제품 꺼내오기 등)  </li><li>손님의 요청에 응답한다. (여기 있습니다!, 재고가 다 떨어졌습니다 등)  </li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="우리가-웹을-사용하는-방법"></a>우리가 웹을 사용하는 방법<a class="hash-link" href="#우리가-웹을-사용하는-방법" title="Direct link to heading">#</a></h4><ol><li>웹 브라우저(Chrome, Safari, Whale 등)를 켠다.  </li><li>주소창에 주소를 입력한다.  </li><li>원하는 정보가 나오거나 에러페이지를 볼 수 있다.  </li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="웹의-동작-방식"></a>웹의 동작 방식<a class="hash-link" href="#웹의-동작-방식" title="Direct link to heading">#</a></h4><ol><li>Client가 Server에 정보를 요청(Request)한다.  </li><li>Server는 이 요청받은 정보에 대한 처리를 진행한다.  </li><li>Server가 Client에게 요청에 대해 응답(Response)한다.  </li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="http"></a>HTTP<a class="hash-link" href="#http" title="Direct link to heading">#</a></h3><p>웹을 사용하는 사람들간의 약속<br>
HTTP Request, HTTP Response를 통해 웹이 동작한다.  </p><p>HTTP Response에는 HTML 등이 있고, HTML Request에는 GET, POST등의 HTML verb가 있다.  </p><p><strong>우리는 이제부터 서버의 입장에서 클라이언트로부터 정보가 왔을 때 어떤 일을 해야 할지에 대해 명세한다. 이러한 작업을 할 수 있는 프레임워크가 Flask와 Django이다.</strong> </p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="2-flask"></a>2. Flask<a class="hash-link" href="#2-flask" title="Direct link to heading">#</a></h2><p>Python 기반 마이크로 웹 프레임워크<br>
*여기서 <strong>마이크로</strong>는 essential 하다는 의미  </p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="가상환경-활용"></a>가상환경 활용<a class="hash-link" href="#가상환경-활용" title="Direct link to heading">#</a></h3><p>다양한 장르의 프로젝트를 진행하다 보면, 한 환경에 많은 모듈을 설치하게 되는데, 각각의 프로젝트에 대해 독립적인 환경을 제공하면 프로젝트 관리도 수월하다. 이를 위해 가상환경을 활용한다.  </p><div class="mdxCodeBlock_1zKU"><div style="color:rgb(57, 58, 52);background-color:#e5ebf7" class="codeBlockTitle_2eSY">현재 디렉토리에 새 가상환경 만들기</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cmd codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:rgb(57, 58, 52);background-color:#e5ebf7"><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">$ python -m venv venv</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div style="color:rgb(57, 58, 52);background-color:#e5ebf7" class="codeBlockTitle_2eSY">가상환경 활성화</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cmd codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:rgb(57, 58, 52);background-color:#e5ebf7"><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">$ venv\Scripts\activate.bat</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div style="color:rgb(57, 58, 52);background-color:#e5ebf7" class="codeBlockTitle_2eSY">가상환경 비활성화</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cmd codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:rgb(57, 58, 52);background-color:#e5ebf7"><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">$ deactivate</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div style="color:rgb(57, 58, 52);background-color:#e5ebf7" class="codeBlockTitle_2eSY">설치된 모듈 확인</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cmd codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:rgb(57, 58, 52);background-color:#e5ebf7"><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">$ pip freeze</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="flask-설치하기"></a>Flask 설치하기<a class="hash-link" href="#flask-설치하기" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div style="color:rgb(57, 58, 52);background-color:#e5ebf7" class="codeBlockTitle_2eSY">Flask 모듈 설치</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cmd codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:rgb(57, 58, 52);background-color:#e5ebf7"><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">$ pip install flask</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="간단한-앱-생성"></a>간단한 앱 생성<a class="hash-link" href="#간단한-앱-생성" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div style="color:rgb(57, 58, 52);background-color:#e5ebf7" class="codeBlockTitle_2eSY">app.py</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-python codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:rgb(57, 58, 52);background-color:#e5ebf7"><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token keyword" style="color:rgb(0, 0, 159)">from</span><span class="token plain"> flask </span><span class="token keyword" style="color:rgb(0, 0, 159)">import</span><span class="token plain"> Flask</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">app </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> Flask</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">__name__</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># @: 파이썬 데코레이터</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">@app</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">route</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;/&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># 주소 &#x27;/&#x27;를 입력받았을 때 아래의 함수를 실행하라는 의미</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 159)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">hello_flask</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;Hello World!&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># __name__ 스페이스가 __main__인 경우, 즉 app.py 파일을 직접 실행한 경우</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># app을 실행하라는 의미</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 159)">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:rgb(0, 0, 159)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;__main__&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    app</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">run</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><code>@</code>는 파이썬의 데코레이터이며, <code>@app.route(&#x27;/&#x27;)</code>는 flask 서버에 &#x27;/&#x27;를 입력받았을 때 다음 행의 함수를 실행하라는 의미이다.  </p><div class="mdxCodeBlock_1zKU"><div style="color:rgb(57, 58, 52);background-color:#e5ebf7" class="codeBlockTitle_2eSY">flask 실행</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cmd codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:rgb(57, 58, 52);background-color:#e5ebf7"><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">flask run</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">#  * Environment: production</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">#    WARNING: This is a development server. Do not use it in a production deployment.</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">#    Use a production WSGI server instead.</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">#  * Debug mode: off</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">#  * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>ㅤㅤ<img alt="func" src="/willbe/assets/images/flask1-08a23d7e2be1698e178ed4f867609fbe.png">  </p><p><code>http://127.0.0.1:5000/</code>의 마지막 <code>/</code>가 route에서 설정한 주소를 나타낸다.  </p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="3-flask-with-rest-api"></a>3. Flask with REST API<a class="hash-link" href="#3-flask-with-rest-api" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="api"></a>API<a class="hash-link" href="#api" title="Direct link to heading">#</a></h3><p>프로그램들이 서로 상호작용하는 것을 도와주는 매개체<br>
ex) 목표가 기상청에 있는 정보를 받아오는 것이라고 할 때, API를 통해 기상청으로 요구 명세를 전달한다. 기상청에서는 요구 명세가 예상된 범위 안의 요청이면 해당하는 정보를 전달하고, 그렇지 않으면 오류를 낸다.  </p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="restful"></a>RESTful<a class="hash-link" href="#restful" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="rest"></a>REST<a class="hash-link" href="#rest" title="Direct link to heading">#</a></h4><p>Representational State Transfer의 약자로, 웹 서버가 요청을 응답하는 방법론 중 하나 (일종의 약속)  </p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="restful-1"></a>RESTful<a class="hash-link" href="#restful-1" title="Direct link to heading">#</a></h4><p>RESTful한 API란, RESTful한 패러다임을 가지고 프로그래밍을 진행하다는 것으로, RESTful함의 가장 중요한 특징은 데이터가 아닌 자원(resource)의 관점으로 접근했다는 점이다.  </p><p>REST API는 HTTP URI를 통해 자원을 명시하고, HTTP Method를 통해 해당 자원에 대한 CRUD를 진행한다.<br>
ㅤㅤHTTP URI: 대상의 위치에 대한 식별자<br>
ㅤㅤㅤㅤㅤㅤㅤURL도 URI에 속하며, URL은 위치에 존재한다는 의미가 강하고,<br>
ㅤㅤㅤㅤㅤㅤㅤURI는 서로 다른 자료를 식별한다는 느낌이 강하다.<br>
ㅤㅤHTTP Method: GET, POST, PUT 등 프로토콜에서 정한 정보를 요청하는 과정에서 사용할 수 있는 메서드  </p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="stateless"></a>Stateless<a class="hash-link" href="#stateless" title="Direct link to heading">#</a></h4><p>무상태성<br>
REST API는 Client의 Context를 서버에서 유지하지 않는다는 특징이 있다. 즉, 여러 클라이언트가 있을 때, 어느 클라이언트가 요청을 해도 동일한 결과를 제공해야 한다.  </p><p>cf&gt; 로그인: 서버가 로그인 정보를 가지고 있다면 로그인 되었을 때에 대한 체크를 해주어야 한다.  </p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="rest-api-구축"></a>REST API 구축<a class="hash-link" href="#rest-api-구축" title="Direct link to heading">#</a></h3><p>Coffee Shop Menu API를 구축해보고자 한다.  </p><div class="mdxCodeBlock_1zKU"><div style="color:rgb(57, 58, 52);background-color:#e5ebf7" class="codeBlockTitle_2eSY">app.py</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-python codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:rgb(57, 58, 52);background-color:#e5ebf7"><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">menus </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;id&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token number" style="color:rgb(54, 172, 170)">1</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;name&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;Espresso&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;price&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token number" style="color:rgb(54, 172, 170)">3800</span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;id&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token number" style="color:rgb(54, 172, 170)">2</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;name&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;Americano&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;price&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token number" style="color:rgb(54, 172, 170)">4100</span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;id&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token number" style="color:rgb(54, 172, 170)">3</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;name&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;CafeLatte&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;price&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token number" style="color:rgb(54, 172, 170)">4600</span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># GET /menus: 자료를 가져올 때 사용</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">@app</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">route</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;/menus&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># 가장 많이 사용되는 메서드가 GET이기 때문에 method=[&#x27;GET&#x27;]이 기본값</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 159)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">get_menus</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># menus는 리스트 타입이기 때문에 json 형태로 바꿀 수 없으므로 딕셔너리 타입으로 바꿔준다.</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">return</span><span class="token plain"> jsonify</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;menus&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> menus</span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># POST /menus: 자료를 자원에 추가할 때 사용</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">@app</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">route</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;/menus&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> methods</span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;POST&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 159)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">create_menu</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># request가 JSON이라고 가정</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># 전달 받은 자료를 menus 자원에 추가</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># request에 클라이언트가 서버에 요청한 자료가 담김</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    request_data </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">get_json</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># {&#x27;name&#x27;:..., &#x27;price&#x27;:...}</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    new_menu </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;id&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token number" style="color:rgb(54, 172, 170)">4</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;name&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain">request_data</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;name&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;price&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain">request_data</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;price&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    menus</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">append</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">new_menu</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">return</span><span class="token plain"> jsonify</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">new_menu</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="get과-post-수행"></a>GET과 POST 수행<a class="hash-link" href="#get과-post-수행" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="postman-rest-api-테스트-프로그램"></a>Postman: REST API 테스트 프로그램<a class="hash-link" href="#postman-rest-api-테스트-프로그램" title="Direct link to heading">#</a></h4><p><a href="https://www.postman.com/downloads/" target="_blank" rel="noopener noreferrer">Postman</a>을 통해 API를 테스트할 수 있다.<br>
Postman 설치 -&gt; 회원가입 -&gt; <code>Workspaces</code> -&gt; <code>New Workspace</code> -&gt; Name: programmers -&gt; New Collection: REST API with Flask</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="postman을-통한-get"></a>Postman을 통한 GET<a class="hash-link" href="#postman을-통한-get" title="Direct link to heading">#</a></h4><p><code>+</code> -&gt; <code>GET</code>: <a href="http://127.0.0.1:5000/menus" target="_blank" rel="noopener noreferrer">http://127.0.0.1:5000/menus</a> -&gt; <code>Send</code>  </p><p>ㅤㅤ<img alt="func" src="/willbe/assets/images/flask2-66a59251e825e000f8cb1ddb21a3ac40.png">  </p><p><code>Save</code> -&gt; Request name: \menus -&gt; Select a collection or folder to save to: <code>REST API with Flask</code> -&gt; <code>Save to REST API with Flask</code></p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="postman을-통한-post"></a>Postman을 통한 POST<a class="hash-link" href="#postman을-통한-post" title="Direct link to heading">#</a></h4><p><code>+</code> -&gt; <code>POST</code>: <a href="http://127.0.0.1:5000/menus" target="_blank" rel="noopener noreferrer">http://127.0.0.1:5000/menus</a>  -&gt; <code>Body</code>의 <code>raw</code>에 요청 입력  </p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cmd codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:rgb(57, 58, 52);background-color:#e5ebf7"><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">{</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    &quot;name&quot;:&quot;Dolce Latte&quot;,</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    &quot;price&quot;: 5100</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>-&gt; <code>Text</code>를 <code>JSON</code>으로 변경 -&gt; <code>Send</code>  </p><p>ㅤㅤ<img alt="func" src="/willbe/assets/images/flask3-0a69de7abb2d53ea2eab2ae2c6dc9b17.png">  </p><p>❗ POST 후 다시 GET하면 데이터가 추가된 것을 볼 수 있다.  </p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="현재의-문제점"></a>현재의 문제점<a class="hash-link" href="#현재의-문제점" title="Direct link to heading">#</a></h4><ol><li>ID가 중복될 수 있다.  </li><li>서버를 껐다 켜면 POST한 정보가 다시 사라질 수 있다.  </li></ol><p>이 문제점들을 해결하기 위해 데이터베이스를 활용할 수 있고, 데이터베이스와 Flask를 연동할 수 있다.  </p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="-mission-flask를-flask-답게"></a>+ Mission: Flask를 Flask 답게<a class="hash-link" href="#-mission-flask를-flask-답게" title="Direct link to heading">#</a></h2><p>실습에서는 <code>GET</code>과 <code>POST</code>를 이용해서 <code>/menu</code> 자원으로부터 데이터를 가지고오고, 자원에 데이터를 추가해보았습니다. 이는 자원에서 할 수 있는 4가지 logic인 CRUD(Create, Read, Update, Delete) 중 Read와 Create에 해당하는 부분입니다. 이를 바탕으로 다음 과제를 해결해봅시다.  </p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="필수-과제-메뉴-관리-crud-구현하기"></a>필수 과제: 메뉴 관리 CRUD 구현하기<a class="hash-link" href="#필수-과제-메뉴-관리-crud-구현하기" title="Direct link to heading">#</a></h4><ul><li>HTTP 메서드 <code>PUT</code>을 이용해 Update, <code>DELETE</code>를 이용해 Delete 기능을 구현해주세요.  </li><li><code>PUT /menu/&lt;int:id&gt;</code> : 해당하는 id에 해당하는 데이터를 갱신합니다. (HTTPRequest의 Body에 갱신할 내용이 <code>json</code>으로 전달됩니다.)  </li><li><code>DELETE /menu/&lt;int:id&gt;</code> : 해당하는 id에 해당하는 데이터를 삭제합니다.  </li><li><code>@app.route()</code>의 인자로 들어가는 경로에는 다음과 같이 사용해줄 수도 있습니다.  </li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-python codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:rgb(57, 58, 52);background-color:#e5ebf7"><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">@app</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">route</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;/&lt;name&gt;&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># URL에 &lt;&gt;를 붙임으로서 이를 함수의 인자로 대입할 수 있습니다.</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 159)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">my_view_func</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">return</span><span class="token plain"> name</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div style="color:rgb(57, 58, 52);background-color:#e5ebf7" class="codeBlockTitle_2eSY">app.py</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-python codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:rgb(57, 58, 52);background-color:#e5ebf7"><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># UPDATE /menus</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">@app</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">route</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;/menus/&lt;int:id&gt;&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> methods</span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;PUT&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># URL에 &lt;&gt;를 붙여 이를 함수의 인자로 대입할 수 있다.  </span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 159)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">update_menu</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token builtin" style="color:rgb(227, 17, 108)">id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    request_data </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">get_json</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    put_menu </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;id&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token builtin" style="color:rgb(227, 17, 108)">id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;name&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain">request_data</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;name&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;price&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain">request_data</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;price&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">for</span><span class="token plain"> i</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> x </span><span class="token keyword" style="color:rgb(0, 0, 159)">in</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(227, 17, 108)">enumerate</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">menus</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 159)">if</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;id&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 159)">==</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(227, 17, 108)">id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">            menus</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> put_menu</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">return</span><span class="token plain"> jsonify</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">put_menu</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># DELETE /menus</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">@app</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">route</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;/menus/&lt;int:id&gt;&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> methods</span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;DELETE&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 159)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">delete_menu</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token builtin" style="color:rgb(227, 17, 108)">id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">for</span><span class="token plain"> i </span><span class="token keyword" style="color:rgb(0, 0, 159)">in</span><span class="token plain"> menus</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 159)">if</span><span class="token plain"> i</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;id&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 159)">==</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(227, 17, 108)">id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">            del_menu </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> i</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">            menus</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">remove</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">return</span><span class="token plain"> jsonify</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">del_menu</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="보너스-과제-i-id야-움직여라-얍"></a>보너스 과제 I: ID야 움직여라 얍!<a class="hash-link" href="#보너스-과제-i-id야-움직여라-얍" title="Direct link to heading">#</a></h4><ul><li>새로운 menu를 추가하는 <code>POST</code> 영역에서 id가 4로 고정되어있는 문제가 발생합니다.  </li><li>POST 요청이 들어올 때마다 id가 하나씩 증가하여 <code>menu</code> 리스트에 추가될 수 있도록 코드를 수정해주세요.  </li><li>이 과제는 필수 과제 이후에 진행되어야 합니다.  </li></ul><div class="mdxCodeBlock_1zKU"><div style="color:rgb(57, 58, 52);background-color:#e5ebf7" class="codeBlockTitle_2eSY">app.py</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-python codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:rgb(57, 58, 52);background-color:#e5ebf7"><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># POST /menus</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">@app</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">route</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;/menus&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> methods</span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;POST&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 159)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">create_menu</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># request가 JSON이라고 가정</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># request에 클라이언트가 서버에 요청한 자료가 담김</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    request_data </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">get_json</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># {&#x27;name&#x27;:..., &#x27;price&#x27;:...}</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    new_menu </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;id&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain">menus</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token operator" style="color:rgb(0, 0, 159)">-</span><span class="token number" style="color:rgb(54, 172, 170)">1</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;id&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 159)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(54, 172, 170)">1</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;name&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain">request_data</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;name&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;price&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain">request_data</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;price&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    menus</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">append</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">new_menu</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">return</span><span class="token plain"> jsonify</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">new_menu</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="보너스-과제-ii-데이터베이스-연동하기"></a>보너스 과제 II: 데이터베이스 연동하기<a class="hash-link" href="#보너스-과제-ii-데이터베이스-연동하기" title="Direct link to heading">#</a></h4><ul><li>수업에서 다룬 API는 서버를 재시작하면 모든 정보가 리셋되는 치명적인 문제가 있었습니다. 이를 해결하기 위해 데이터만을 저장하는 <strong>데이터베이스</strong>를 도입하여 Flask과 연동할 필요가 생겼습니다.  </li><li>SQL과 ORM 중 하나를 선택하여 데이터베이스와 Flask app을 연동해봅시다. (즉, 자원에 CRUD가 발생하면 이 정보가 데이터베이스에 저장되어야합니다.)  </li><li>이 과제는 필수 과제, 보너스 과제 I 이후에 진행되어야 합니다.</li></ul><div class="mdxCodeBlock_1zKU"><div style="color:rgb(57, 58, 52);background-color:#e5ebf7" class="codeBlockTitle_2eSY">app.py</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-python codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:rgb(57, 58, 52);background-color:#e5ebf7"><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token keyword" style="color:rgb(0, 0, 159)">from</span><span class="token plain"> flask </span><span class="token keyword" style="color:rgb(0, 0, 159)">import</span><span class="token plain"> Flask</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> jsonify</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> request</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 159)">import</span><span class="token plain"> pymysql</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># 한글 지원 방법</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 159)">import</span><span class="token plain"> os</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">os</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">putenv</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;NLS_LANG&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;.UTF8&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># 연결에 필요한 기본 정보 (유저, 비밀번호, 데이터베이스 서버 주소)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">conn </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> pymysql</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    user</span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;[ID]&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    passwd</span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;[PW]&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    host</span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;127.0.0.1&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    db</span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;[DB_NAME]&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    charset</span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;utf8&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">app </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> Flask</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">__name__</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">@app</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">route</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;/&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 159)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">hello_flask</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;Hello World!\nDB Connection...&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># GET /menu</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">@app</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">route</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;/menus&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 159)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">get_menus</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    sql </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;SELECT * FROM MENU&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    cursor </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> conn</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">cursor</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">pymysql</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">cursors</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">DictCursor</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">try</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        cursor</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">sql</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        result </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> cursor</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">fetchall</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:rgb(0, 0, 159)">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 159)">return</span><span class="token plain"> e</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">print</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;SUCCESS&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">return</span><span class="token plain"> jsonify</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># POST /menus</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">@app</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">route</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;/menus&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> methods</span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;POST&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 159)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">create_menu</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    request_data </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">get_json</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    name </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> request_data</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;name&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    price </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> request_data</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;price&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    sql </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(227, 17, 108)">f&#x27;&#x27;&#x27;</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token string-interpolation string" style="color:rgb(227, 17, 108)">    INSERT INTO MENU(NAME, PRICE) VALUES (&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token string-interpolation interpolation">name</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token string-interpolation string" style="color:rgb(227, 17, 108)">&quot;, </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token string-interpolation interpolation builtin" style="color:rgb(227, 17, 108)">int</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string-interpolation interpolation">price</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token string-interpolation string" style="color:rgb(227, 17, 108)">);</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token string-interpolation string" style="color:rgb(227, 17, 108)">    &#x27;&#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    cursor </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> conn</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">cursor</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">pymysql</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">cursors</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">DictCursor</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">try</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        cursor</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">sql</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        result </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> cursor</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">fetchone</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        conn</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">commit</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:rgb(0, 0, 159)">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 159)">print</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;FAILED&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 159)">return</span><span class="token plain"> e</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">print</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;SUCCESS&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;name&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;price&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain">price</span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># UPDATE /menus</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">@app</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">route</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;/menus/&lt;int:id&gt;&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> methods</span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;PUT&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 159)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">update_menu</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token builtin" style="color:rgb(227, 17, 108)">id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    request_data </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">get_json</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    name </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> request_data</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;name&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    price </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> request_data</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;price&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    sql </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(227, 17, 108)">f&#x27;&#x27;&#x27;</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token string-interpolation string" style="color:rgb(227, 17, 108)">    UPDATE MENU</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token string-interpolation string" style="color:rgb(227, 17, 108)">    SET NAME=&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token string-interpolation interpolation">name</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token string-interpolation string" style="color:rgb(227, 17, 108)">&quot;, PRICE=</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token string-interpolation interpolation">price</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token string-interpolation string" style="color:rgb(227, 17, 108)"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token string-interpolation string" style="color:rgb(227, 17, 108)">    WHERE ID = </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token string-interpolation interpolation builtin" style="color:rgb(227, 17, 108)">id</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token string-interpolation string" style="color:rgb(227, 17, 108)">;</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token string-interpolation string" style="color:rgb(227, 17, 108)">    &#x27;&#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    cursor </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> conn</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">cursor</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">pymysql</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">cursors</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">DictCursor</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">try</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        cursor</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">sql</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        result </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> cursor</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">fetchone</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        conn</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">commit</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:rgb(0, 0, 159)">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 159)">print</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;FAILED&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 159)">return</span><span class="token plain"> e</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">print</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;SUCCESS&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;name&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;price&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain">price</span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token comment" style="color:rgb(153, 153, 136);font-style:italic"># DELETE /menus</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">@app</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token decorator annotation punctuation" style="color:rgb(153, 76, 195)">route</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;/menus/&lt;int:id&gt;&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> methods</span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;DELETE&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 159)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">delete_menu</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token builtin" style="color:rgb(227, 17, 108)">id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    sql </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(227, 17, 108)">f&#x27;&#x27;&#x27;</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token string-interpolation string" style="color:rgb(227, 17, 108)">    DELETE FROM MENU WHERE ID = </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token string-interpolation interpolation builtin" style="color:rgb(227, 17, 108)">id</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token string-interpolation string" style="color:rgb(227, 17, 108)">;</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token string-interpolation string" style="color:rgb(227, 17, 108)">    &#x27;&#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    cursor </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> conn</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">cursor</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">pymysql</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">cursors</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">DictCursor</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">try</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        result </span><span class="token operator" style="color:rgb(0, 0, 159)">=</span><span class="token plain"> cursor</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">sql</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        conn</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">commit</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:rgb(0, 0, 159)">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 159)">print</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;FAILED&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 159)">return</span><span class="token plain"> e</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">print</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;SUCCESS&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 159)">return</span><span class="token plain"> jsonify</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 159)">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:rgb(0, 0, 159)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(227, 17, 108)">&#x27;__main__&#x27;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(57, 58, 52)"><span class="token plain">    app</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">run</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/willbe/docs/kdt/python/python5"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« EDA</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/willbe/docs/kdt/web/aws1"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">AWS를 활용한 인공지능 모델 배포 »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-인터넷과-웹" class="table-of-contents__link">1. 인터넷과 웹</a><ul><li><a href="#인터넷-internet" class="table-of-contents__link">인터넷 (Internet)</a></li><li><a href="#웹-web" class="table-of-contents__link">웹 (Web)</a></li><li><a href="#웹-내부에서의-정보의-상호-작용" class="table-of-contents__link">웹 내부에서의 정보의 상호 작용</a></li><li><a href="#http" class="table-of-contents__link">HTTP</a></li></ul></li><li><a href="#2-flask" class="table-of-contents__link">2. Flask</a><ul><li><a href="#가상환경-활용" class="table-of-contents__link">가상환경 활용</a></li><li><a href="#flask-설치하기" class="table-of-contents__link">Flask 설치하기</a></li><li><a href="#간단한-앱-생성" class="table-of-contents__link">간단한 앱 생성</a></li></ul></li><li><a href="#3-flask-with-rest-api" class="table-of-contents__link">3. Flask with REST API</a><ul><li><a href="#api" class="table-of-contents__link">API</a></li><li><a href="#restful" class="table-of-contents__link">RESTful</a></li><li><a href="#rest-api-구축" class="table-of-contents__link">REST API 구축</a></li><li><a href="#get과-post-수행" class="table-of-contents__link">GET과 POST 수행</a></li></ul></li><li><a href="#-mission-flask를-flask-답게" class="table-of-contents__link">+ Mission: Flask를 Flask 답게</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 HEEJU LEE</div></div></div></footer></div>
<script src="/willbe/styles.2c3dfb8e.js"></script>
<script src="/willbe/runtime~main.8bbf9e40.js"></script>
<script src="/willbe/main.d215830a.js"></script>
<script src="/willbe/1.95d38675.js"></script>
<script src="/willbe/2.1bb1b4fc.js"></script>
<script src="/willbe/1be78505.23bb998b.js"></script>
<script src="/willbe/104.1ff1ac5b.js"></script>
<script src="/willbe/f976f453.087a1e6b.js"></script>
<script src="/willbe/103.9c5787d0.js"></script>
<script src="/willbe/d6bbe813.670cbcff.js"></script>
</body>
</html>